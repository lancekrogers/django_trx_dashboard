{% comment %}
Dark Dashboard Content - Modern analytics dashboard with metric cards
Purpose: Main dashboard content matching the dark theme design
Features: Metric cards with trends, multi-line chart, tab navigation
Used by: Dark theme dashboard view
{% endcomment %}

<div class="p-6">
    <!-- Metric Cards Grid -->
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
        <!-- Total Revenue Card -->
        <div class="bg-dark-card border border-dark-border rounded-lg p-6">
            <div class="flex items-start justify-between">
                <div>
                    <p class="text-dark-text-secondary text-sm">Total Revenue</p>
                    <p class="text-3xl font-bold text-dark-text mt-2">${{ summary.total_value|floatformat:2|default:"0.00" }}</p>
                </div>
                <div class="flex items-center space-x-1 text-green-500">
                    <i data-feather="trending-up" class="w-4 h-4"></i>
                    <span class="text-sm font-medium">+12.5%</span>
                </div>
            </div>
            <div class="mt-4 flex items-center space-x-2">
                <i data-feather="trending-up" class="w-4 h-4 text-dark-text-secondary"></i>
                <p class="text-dark-text-secondary text-sm">Trending up this month</p>
            </div>
            <p class="text-dark-text-secondary text-xs mt-2">Visitors for the last 6 months</p>
        </div>
        
        <!-- New Customers Card -->
        <div class="bg-dark-card border border-dark-border rounded-lg p-6">
            <div class="flex items-start justify-between">
                <div>
                    <p class="text-dark-text-secondary text-sm">New Customers</p>
                    <p class="text-3xl font-bold text-dark-text mt-2">{{ wallets.count|default:"0" }}</p>
                </div>
                <div class="flex items-center space-x-1 text-red-500">
                    <i data-feather="trending-down" class="w-4 h-4"></i>
                    <span class="text-sm font-medium">-20%</span>
                </div>
            </div>
            <div class="mt-4 flex items-center space-x-2">
                <i data-feather="trending-down" class="w-4 h-4 text-dark-text-secondary"></i>
                <p class="text-dark-text-secondary text-sm">Down 20% this period</p>
            </div>
            <p class="text-dark-text-secondary text-xs mt-2">Acquisition needs attention</p>
        </div>
        
        <!-- Active Accounts Card -->
        <div class="bg-dark-card border border-dark-border rounded-lg p-6">
            <div class="flex items-start justify-between">
                <div>
                    <p class="text-dark-text-secondary text-sm">Active Accounts</p>
                    <p class="text-3xl font-bold text-dark-text mt-2">{{ wallets.count|default:"0" }}</p>
                </div>
                <div class="flex items-center space-x-1 text-green-500">
                    <i data-feather="trending-up" class="w-4 h-4"></i>
                    <span class="text-sm font-medium">+12.5%</span>
                </div>
            </div>
            <div class="mt-4 flex items-center space-x-2">
                <i data-feather="bar-chart" class="w-4 h-4 text-dark-text-secondary"></i>
                <p class="text-dark-text-secondary text-sm">Strong user retention</p>
            </div>
            <p class="text-dark-text-secondary text-xs mt-2">Engagement exceed targets</p>
        </div>
        
        <!-- Growth Rate Card -->
        <div class="bg-dark-card border border-dark-border rounded-lg p-6">
            <div class="flex items-start justify-between">
                <div>
                    <p class="text-dark-text-secondary text-sm">Growth Rate</p>
                    <p class="text-3xl font-bold text-dark-text mt-2">4.5%</p>
                </div>
                <div class="flex items-center space-x-1 text-green-500">
                    <i data-feather="trending-up" class="w-4 h-4"></i>
                    <span class="text-sm font-medium">+4.5%</span>
                </div>
            </div>
            <div class="mt-4 flex items-center space-x-2">
                <i data-feather="activity" class="w-4 h-4 text-dark-text-secondary"></i>
                <p class="text-dark-text-secondary text-sm">Steady performance increase</p>
            </div>
            <p class="text-dark-text-secondary text-xs mt-2">Meets growth projections</p>
        </div>
    </div>
    
    <!-- Chart Section -->
    <div class="bg-dark-card border border-dark-border rounded-lg p-6 mb-8">
        <div class="flex items-center justify-between mb-6">
            <div>
                <h3 class="text-lg font-semibold text-dark-text">Total Visitors</h3>
                <p class="text-dark-text-secondary text-sm">Total for the last 3 months</p>
            </div>
            <div class="flex items-center space-x-2">
                <button class="px-4 py-2 text-sm bg-dark-hover text-dark-text rounded-lg hover:bg-dark-border transition-colors">
                    Last 3 months
                </button>
                <button class="px-4 py-2 text-sm text-dark-text-secondary hover:bg-dark-hover rounded-lg transition-colors">
                    Last 30 days
                </button>
                <button class="px-4 py-2 text-sm text-dark-text-secondary hover:bg-dark-hover rounded-lg transition-colors">
                    Last 7 days
                </button>
            </div>
        </div>
        
        <!-- Chart Container -->
        <div class="relative h-64">
            <canvas id="visitors-chart"></canvas>
        </div>
    </div>
    
    <!-- Bottom Tab Navigation -->
    <div class="bg-dark-card border border-dark-border rounded-lg">
        <div class="border-b border-dark-border">
            <div class="flex items-center justify-between px-6">
                <div class="flex items-center space-x-8">
                    <button class="py-4 border-b-2 border-indigo-500 text-dark-text font-medium">
                        Outline
                    </button>
                    <button class="py-4 border-b-2 border-transparent text-dark-text-secondary hover:text-dark-text transition-colors">
                        Past Performance
                        <span class="ml-2 bg-dark-hover text-dark-text-secondary text-xs px-2 py-1 rounded">3</span>
                    </button>
                    <button class="py-4 border-b-2 border-transparent text-dark-text-secondary hover:text-dark-text transition-colors">
                        Key Personnel
                        <span class="ml-2 bg-dark-hover text-dark-text-secondary text-xs px-2 py-1 rounded">2</span>
                    </button>
                    <button class="py-4 border-b-2 border-transparent text-dark-text-secondary hover:text-dark-text transition-colors">
                        Focus Documents
                    </button>
                </div>
                <div class="flex items-center space-x-4">
                    <button class="flex items-center space-x-2 text-dark-text-secondary hover:text-dark-text transition-colors">
                        <i data-feather="columns" class="w-4 h-4"></i>
                        <span class="text-sm">Customize Columns</span>
                    </button>
                    <button class="bg-dark-hover hover:bg-dark-border text-dark-text px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors">
                        <i data-feather="plus" class="w-4 h-4"></i>
                        <span class="text-sm">Add Section</span>
                    </button>
                </div>
            </div>
        </div>
        
        <!-- Tab Content -->
        <div class="p-6">
            <div class="space-y-4">
                <!-- Recent Transactions -->
                <h4 class="text-dark-text font-medium mb-4">Recent Activity</h4>
                {% for transaction in recent_transactions %}
                <div class="flex items-center justify-between py-3 border-b border-dark-border last:border-0">
                    <div class="flex items-center space-x-4">
                        <div class="w-10 h-10 bg-dark-hover rounded-lg flex items-center justify-center">
                            {% if transaction.transaction_type == 'SEND' %}
                                <i data-feather="arrow-up-right" class="w-5 h-5 text-red-500"></i>
                            {% else %}
                                <i data-feather="arrow-down-left" class="w-5 h-5 text-green-500"></i>
                            {% endif %}
                        </div>
                        <div>
                            <p class="text-dark-text font-medium">{{ transaction.transaction_type|title }} {{ transaction.symbol }}</p>
                            <p class="text-dark-text-secondary text-sm">{{ transaction.timestamp|date:"M d, Y" }}</p>
                        </div>
                    </div>
                    <div class="text-right">
                        <p class="text-dark-text font-medium">
                            {% if transaction.transaction_type == 'SEND' %}-{% else %}+{% endif %}
                            {{ transaction.amount|floatformat:4 }} {{ transaction.symbol }}
                        </p>
                        <p class="text-dark-text-secondary text-sm">${{ transaction.usd_value|floatformat:2|default:"0.00" }}</p>
                    </div>
                </div>
                {% empty %}
                <p class="text-dark-text-secondary text-center py-8">No recent transactions</p>
                {% endfor %}
            </div>
        </div>
    </div>
</div>

<script>
    // Initialize the visitors chart
    document.addEventListener('DOMContentLoaded', function() {
        const ctx = document.getElementById('visitors-chart');
        if (ctx) {
            const chart = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: ['Apr 7', 'Apr 14', 'Apr 21', 'Apr 29', 'May 6', 'May 13', 'May 21', 'May 29', 'Jun 5', 'Jun 12', 'Jun 20', 'Jun 29'],
                    datasets: [{
                        label: 'Visitors',
                        data: [320, 450, 380, 520, 480, 620, 580, 720, 680, 820, 780, 920],
                        borderColor: 'rgb(99, 102, 241)',
                        backgroundColor: 'rgba(99, 102, 241, 0.1)',
                        fill: true,
                        tension: 0.4,
                        pointRadius: 0,
                        pointHoverRadius: 6,
                        borderWidth: 2,
                    }, {
                        label: 'Page Views',
                        data: [220, 350, 280, 420, 380, 520, 480, 620, 580, 720, 680, 820],
                        borderColor: 'rgb(236, 72, 153)',
                        backgroundColor: 'rgba(236, 72, 153, 0.1)',
                        fill: true,
                        tension: 0.4,
                        pointRadius: 0,
                        pointHoverRadius: 6,
                        borderWidth: 2,
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            display: false
                        },
                        tooltip: {
                            backgroundColor: '#1a1a1a',
                            titleColor: '#e5e5e5',
                            bodyColor: '#a0a0a0',
                            borderColor: '#2a2a2a',
                            borderWidth: 1,
                            padding: 12,
                            displayColors: false,
                            intersect: false,
                            mode: 'index'
                        }
                    },
                    scales: {
                        x: {
                            grid: {
                                display: false,
                                borderColor: '#2a2a2a'
                            },
                            ticks: {
                                color: '#a0a0a0',
                                font: {
                                    size: 11
                                }
                            }
                        },
                        y: {
                            grid: {
                                color: '#2a2a2a',
                                borderColor: '#2a2a2a'
                            },
                            ticks: {
                                color: '#a0a0a0',
                                font: {
                                    size: 11
                                }
                            }
                        }
                    }
                }
            });
        }
    });
</script>