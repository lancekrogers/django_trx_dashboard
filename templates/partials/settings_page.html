{% comment %}
Dark Settings Page - User settings with dark theme
Purpose: Allow users to manage their settings including mock data
Features: Mock data toggle, profile information, dark styling
Used by: Dark theme settings view
{% endcomment %}

<div class="p-6">
    <div class="mb-6">
        <h2 class="text-2xl font-bold text-dark-text">Settings</h2>
        <p class="text-dark-text-secondary mt-1">Manage your account preferences</p>
    </div>
    
    {% if success %}
    <div class="bg-green-900/20 border border-green-800 text-green-400 px-4 py-3 rounded-lg mb-6">
        <p class="text-sm">{{ success }}</p>
    </div>
    {% endif %}
    
    {% if error %}
    <div class="bg-red-900/20 border border-red-800 text-red-400 px-4 py-3 rounded-lg mb-6">
        <p class="text-sm">{{ error }}</p>
    </div>
    {% endif %}
    
    <!-- Profile Information -->
    <div class="bg-dark-card border border-dark-border rounded-lg p-6 mb-6">
        <h3 class="text-lg font-semibold text-dark-text mb-4">Profile Information</h3>
        <div class="space-y-4">
            <div>
                <label class="block text-sm font-medium text-dark-text-secondary mb-1">Email</label>
                <p class="text-dark-text">{{ user.email }}</p>
            </div>
            <div>
                <label class="block text-sm font-medium text-dark-text-secondary mb-1">Member Since</label>
                <p class="text-dark-text">{{ user.created_at|date:"F d, Y" }}</p>
            </div>
        </div>
    </div>
    
    <!-- Data Settings -->
    <div class="bg-dark-card border border-dark-border rounded-lg p-6 mb-6">
        <h3 class="text-lg font-semibold text-dark-text mb-4">Data Settings</h3>
        
        <form hx-post="{% url 'htmx:settings' %}" 
              hx-target="#main-content" 
              hx-swap="innerHTML"
              class="space-y-4">
            {% csrf_token %}
            
            <div class="flex items-center justify-between">
                <div class="flex-1">
                    <label for="mock_data_enabled" class="text-dark-text font-medium">
                        Enable Mock Data
                    </label>
                    <p class="text-dark-text-secondary text-sm mt-1">
                        Use simulated data for demonstration purposes. Enable this to see example portfolio values and transactions.
                    </p>
                </div>
                <div class="ml-4">
                    <label class="relative inline-flex items-center cursor-pointer">
                        <input type="checkbox" 
                               id="mock_data_enabled"
                               name="mock_data_enabled" 
                               {% if settings.mock_data_enabled %}checked{% endif %}
                               class="sr-only peer">
                        <div class="w-11 h-6 bg-dark-border peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-indigo-800 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-indigo-600"></div>
                    </label>
                </div>
            </div>
            
            <div class="pt-4">
                <button type="submit" 
                        class="bg-indigo-600 hover:bg-indigo-700 text-white font-medium py-2 px-4 rounded-lg transition-colors">
                    Save Changes
                </button>
            </div>
        </form>
        
        {% if settings.mock_data_enabled %}
        <div class="mt-6 pt-6 border-t border-dark-border">
            <h4 class="text-dark-text font-medium mb-3">Mock Data Actions</h4>
            <button hx-post="{% url 'htmx:refresh_mock_data' %}"
                    hx-target="#main-content"
                    hx-swap="innerHTML"
                    class="bg-dark-hover hover:bg-dark-border text-dark-text px-4 py-2 rounded-lg transition-colors">
                <i data-feather="refresh-cw" class="w-4 h-4 inline mr-2"></i>
                Refresh Mock Data
            </button>
            <p class="text-dark-text-secondary text-xs mt-2">
                This will update all mock transactions with recent dates
            </p>
        </div>
        {% endif %}
    </div>
    
    <!-- Danger Zone -->
    <div class="bg-dark-card border border-red-900/50 rounded-lg p-6">
        <h3 class="text-lg font-semibold text-red-400 mb-4">Danger Zone</h3>
        <div class="space-y-4">
            <div>
                <p class="text-dark-text-secondary text-sm mb-3">
                    Once you delete your account, there is no going back. Please be certain.
                </p>
                <button class="border border-red-800 text-red-400 hover:bg-red-900/20 px-4 py-2 rounded-lg transition-colors">
                    Delete Account
                </button>
            </div>
        </div>
    </div>
</div>

