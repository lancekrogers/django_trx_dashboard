{% if transactions %}
    {% for transaction in transactions %}
    {% include 'partials/transaction_row.html' with transaction=transaction %}
    {% endfor %}
{% else %}
    <tr>
        <td colspan="7" class="px-6 py-12 text-center text-gray-500">
            <div class="flex flex-col items-center">
                <svg class="w-12 h-12 text-gray-400 mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path>
                </svg>
                <p class="text-lg font-medium">No transactions found</p>
                <p class="mt-2 text-sm">Start by adding a wallet to track your transactions.</p>
            </div>
        </td>
    </tr>
{% endif %}

{% if transactions.has_next %}
<tr>
    <td colspan="7" class="text-center py-4">
        <button 
            hx-get="{% url 'htmx:transactions' %}?page={{ transactions.next_page_number }}"
            hx-target="#transaction-rows"
            hx-swap="beforeend"
            hx-indicator="#loading-more"
            class="px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600"
        >
            Load More
            <span id="loading-more" class="htmx-indicator ml-2">
                <svg class="inline w-4 h-4 animate-spin" viewBox="0 0 24 24">
                    <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4" fill="none"></circle>
                    <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"></path>
                </svg>
            </span>
        </button>
    </td>
</tr>
{% endif %}